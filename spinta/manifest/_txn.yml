type: model
name: _txn
version:
  id: 49da8fcc-d724-43c4-b35f-e71f9c87b1b5
  date: 2020-03-06 15:02:17.513335+02:00
  parents: []
properties:
  datetime: {type: datetime}
  client_type: {type: string, enum: [dataset, project, system]}
  client_id: {type: string}
  errors: {type: integer}
---
version:
  id: 49da8fcc-d724-43c4-b35f-e71f9c87b1b5
  date: 2020-03-06 15:02:17.513335+02:00
  parents: []
changes:
  - op: add
    path: /properties
    value:
      datetime: {type: datetime}
      client_type: {type: string, enum: [dataset, project, system]}
      client_id: {type: string}
      errors: {type: integer}
  - op: add
    path: /version
    value:
      id: 1
      date: 2019-02-12
  - op: add
    path: /type
    value: model
  - op: add
    path: /name
    value: _txn
migrate:
  - type: schema
    upgrade: >-
      create_table('_txn',
        column('_id', pk()),
        column('_revision', string()),
        column('datetime', datetime()),
        column('client_type', string()),
        column('client_id', string()),
        column('errors', integer()),
      )
    downgrade: >-
      drop_table('_txn')
